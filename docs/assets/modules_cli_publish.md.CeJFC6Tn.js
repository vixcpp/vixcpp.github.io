import{_ as s,o as a,c as e,a as t}from"./app.OIXPjicE.js";import"./chunks/markjs.l6TISjdC.js";import"./chunks/minisearch.DigTKvvb.js";const g=JSON.parse('{"title":"vix publish","description":"","frontmatter":{},"headers":[],"relativePath":"modules/cli/publish.md","filePath":"modules/cli/publish.md","lastUpdated":1770806195000}'),l={name:"modules/cli/publish.md"};function n(h,i,p,r,o,d){return a(),e("div",null,[...i[0]||(i[0]=[t(`<h1 id="vix-publish" tabindex="-1">vix publish <a class="header-anchor" href="#vix-publish" aria-label="Permalink to &quot;vix publish&quot;">​</a></h1><p>Publish a package version to the Vix Registry.</p><hr><h2 id="usage" tabindex="-1">Usage <a class="header-anchor" href="#usage" aria-label="Permalink to &quot;Usage&quot;">​</a></h2><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vix</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> publish</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">versio</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">n</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [--notes </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;...&quot;]</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [--dry-run]</span></span></code></pre></div><hr><h2 id="description" tabindex="-1">Description <a class="header-anchor" href="#description" aria-label="Permalink to &quot;Description&quot;">​</a></h2><p><code>vix publish</code>:</p><ul><li>Publishes a new version of your library</li><li>Updates the local registry clone (<code>~/.vix/registry/index</code>)</li><li>Creates a new branch</li><li>Commits the version metadata</li><li>Pushes to the registry remote</li><li>Opens a PR (if <code>gh</code> CLI is available)</li></ul><p>Designed for clean, deterministic registry contributions.</p><hr><h2 id="requirements" tabindex="-1">Requirements <a class="header-anchor" href="#requirements" aria-label="Permalink to &quot;Requirements&quot;">​</a></h2><p>Before publishing:</p><ul><li>You must be inside your library Git repository</li><li>The Git tag must exist: <code>v&lt;version&gt;</code></li><li>The registry must be synced</li></ul><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vix</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> registry</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> sync</span></span></code></pre></div><hr><h2 id="examples" tabindex="-1">Examples <a class="header-anchor" href="#examples" aria-label="Permalink to &quot;Examples&quot;">​</a></h2><p>Publish version:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vix</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> publish</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.2.0</span></span></code></pre></div><p>Publish with notes:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vix</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> publish</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.2.0</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --notes</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Add count_leaves helper&quot;</span></span></code></pre></div><p>Dry run (no push):</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vix</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> publish</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.2.0</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --dry-run</span></span></code></pre></div><hr><h2 id="version-rules" tabindex="-1">Version Rules <a class="header-anchor" href="#version-rules" aria-label="Permalink to &quot;Version Rules&quot;">​</a></h2><ul><li>Version must match Git tag <code>v&lt;version&gt;</code></li><li>Tag must already exist</li><li>Registry entry will reference the exact commit SHA</li></ul><p>Example:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>git tag v0.2.0</span></span>
<span class="line"><span>git push origin v0.2.0</span></span>
<span class="line"><span>vix publish 0.2.0</span></span></code></pre></div><hr><h2 id="what-happens-internally" tabindex="-1">What Happens Internally <a class="header-anchor" href="#what-happens-internally" aria-label="Permalink to &quot;What Happens Internally&quot;">​</a></h2><ol><li>Validate Git tag exists</li><li>Read tag commit SHA</li><li>Update registry JSON</li><li>Commit registry change</li><li>Push branch</li><li>Open Pull Request (if <code>gh</code> is installed)</li></ol><hr><h2 id="notes" tabindex="-1">Notes <a class="header-anchor" href="#notes" aria-label="Permalink to &quot;Notes&quot;">​</a></h2><ul><li><code>--dry-run</code> performs validation without modifying registry</li><li>Publish is explicit, not automatic</li><li>Lockfiles will pin the commit SHA of the published version</li></ul><hr><p><code>vix publish</code> integrates your library into the Vix ecosystem.</p>`,36)])])}const b=s(l,[["render",n]]);export{g as __pageData,b as default};
