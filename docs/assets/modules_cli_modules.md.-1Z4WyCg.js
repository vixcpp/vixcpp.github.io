import{_ as a,o as i,c as e,a as t}from"./app.BYybgkFJ.js";import"./chunks/markjs.l6TISjdC.js";import"./chunks/minisearch.DigTKvvb.js";const g=JSON.parse('{"title":"Vix Modules","description":"","frontmatter":{},"headers":[],"relativePath":"modules/cli/modules.md","filePath":"modules/cli/modules.md","lastUpdated":1770827001000}'),l={name:"modules/cli/modules.md"};function n(p,s,h,d,o,c){return i(),e("div",null,[...s[0]||(s[0]=[t(`<h1 id="vix-modules" tabindex="-1">Vix Modules <a class="header-anchor" href="#vix-modules" aria-label="Permalink to &quot;Vix Modules&quot;">​</a></h1><p>The <code>vix modules</code> command enables a strict, app-first module system for any CMake project.</p><p>The design is inspired by Go modules philosophy:</p><ul><li>Explicit dependencies</li><li>Strict public/private boundaries</li><li>No accidental header leakage</li><li>Enforced architectural discipline</li></ul><hr><h2 id="command-overview" tabindex="-1">Command Overview <a class="header-anchor" href="#command-overview" aria-label="Permalink to &quot;Command Overview&quot;">​</a></h2><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vix</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> modules</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">subcomman</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">d</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [options]</span></span></code></pre></div><h3 id="subcommands" tabindex="-1">Subcommands <a class="header-anchor" href="#subcommands" aria-label="Permalink to &quot;Subcommands&quot;">​</a></h3><div class="language-text vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>init                 Initialize modules mode</span></span>
<span class="line"><span>add &lt;name&gt;           Create a module skeleton</span></span>
<span class="line"><span>check                Validate module safety rules</span></span></code></pre></div><h3 id="global-options" tabindex="-1">Global Options <a class="header-anchor" href="#global-options" aria-label="Permalink to &quot;Global Options&quot;">​</a></h3><div class="language-text vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>-d, --dir &lt;path&gt;         Project root (default: current)</span></span>
<span class="line"><span>--project &lt;name&gt;         Override project name</span></span>
<span class="line"><span>--no-patch               Do not patch root CMakeLists.txt</span></span>
<span class="line"><span>--patch                  Patch root CMakeLists.txt (default)</span></span>
<span class="line"><span>--no-link                Do not auto-link module into main target</span></span>
<span class="line"><span>--link                   Auto-link module into main target (default)</span></span>
<span class="line"><span>-h, --help               Show help</span></span></code></pre></div><hr><h1 id="_1-initialize-modules-mode" tabindex="-1">1. Initialize Modules Mode <a class="header-anchor" href="#_1-initialize-modules-mode" aria-label="Permalink to &quot;1. Initialize Modules Mode&quot;">​</a></h1><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vix</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> modules</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> init</span></span></code></pre></div><p>This creates:</p><div class="language-text vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>modules/</span></span>
<span class="line"><span>cmake/vix_modules.cmake</span></span></code></pre></div><p>It can optionally patch your root <code>CMakeLists.txt</code>.</p><p>Example root patch:</p><div class="language-cmake vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cmake</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">include</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(cmake/vix_modules.cmake)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">vix_modules_enable()</span></span></code></pre></div><hr><h1 id="_2-add-a-module" tabindex="-1">2. Add a Module <a class="header-anchor" href="#_2-add-a-module" aria-label="Permalink to &quot;2. Add a Module&quot;">​</a></h1><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vix</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> modules</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> auth</span></span></code></pre></div><p>Creates:</p><div class="language-text vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>modules/auth/</span></span>
<span class="line"><span>  include/auth/</span></span>
<span class="line"><span>  src/</span></span>
<span class="line"><span>  CMakeLists.txt</span></span></code></pre></div><p>Public header example:</p><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// modules/auth/include/auth/api.hpp</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#pragma</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> once</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">namespace</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> auth</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> login</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>Private implementation:</p><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// modules/auth/src/api.cpp</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#include</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &lt;auth/api.hpp&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">namespace</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> auth</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  void</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> login</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>Generated CMake target:</p><div class="language-cmake vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cmake</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">add_library</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(&lt;project&gt;_auth)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">add_library</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(&lt;project&gt;::auth ALIAS &lt;project&gt;_auth)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">target_include_directories</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(&lt;project&gt;_auth</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  PUBLIC</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> modules/auth/include</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  PRIVATE</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> modules/auth/src</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><hr><h1 id="_3-explicit-cross-module-dependency" tabindex="-1">3. Explicit Cross-Module Dependency <a class="header-anchor" href="#_3-explicit-cross-module-dependency" aria-label="Permalink to &quot;3. Explicit Cross-Module Dependency&quot;">​</a></h1><p>If <code>products</code> depends on <code>auth</code>, you must declare it explicitly:</p><div class="language-cmake vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cmake</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">target_link_libraries</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(&lt;project&gt;_products</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  PUBLIC</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> &lt;project&gt;::auth</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><p>No implicit dependency resolution is allowed.</p><hr><h1 id="_4-module-structure-contract" tabindex="-1">4. Module Structure Contract <a class="header-anchor" href="#_4-module-structure-contract" aria-label="Permalink to &quot;4. Module Structure Contract&quot;">​</a></h1><p>Each module must follow:</p><div class="language-text vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>modules/&lt;m&gt;/include/&lt;m&gt;/...   public headers</span></span>
<span class="line"><span>modules/&lt;m&gt;/src/...           private implementation</span></span></code></pre></div><p>Public include style:</p><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#include</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &lt;auth/api.hpp&gt;</span></span></code></pre></div><p>Never:</p><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#include</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;modules/auth/src/internal.hpp&quot;</span></span></code></pre></div><hr><h1 id="_5-validate-module-safety" tabindex="-1">5. Validate Module Safety <a class="header-anchor" href="#_5-validate-module-safety" aria-label="Permalink to &quot;5. Validate Module Safety&quot;">​</a></h1><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vix</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> modules</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> check</span></span></code></pre></div><p>This validates:</p><ul><li>Public headers do not include private headers</li><li>Cross-module usage is explicitly linked</li><li>Include structure follows contract</li><li>No accidental boundary violations</li></ul><hr><h1 id="design-philosophy" tabindex="-1">Design Philosophy <a class="header-anchor" href="#design-philosophy" aria-label="Permalink to &quot;Design Philosophy&quot;">​</a></h1><p>Vix modules enforce:</p><ul><li>Architectural clarity</li><li>Dependency correctness</li><li>Long-term maintainability</li><li>Build-time safety</li></ul><p>Everything must be explicit. Nothing is automatic. No hidden coupling.</p><hr><h1 id="minimal-workflow-example" tabindex="-1">Minimal Workflow Example <a class="header-anchor" href="#minimal-workflow-example" aria-label="Permalink to &quot;Minimal Workflow Example&quot;">​</a></h1><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vix</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> modules</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> init</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vix</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> modules</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> auth</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vix</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> modules</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> products</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">vix</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> modules</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> check</span></span></code></pre></div><p>This results in a clean, explicit, Go-like module architecture for C++.</p>`,57)])])}const m=a(l,[["render",n]]);export{g as __pageData,m as default};
