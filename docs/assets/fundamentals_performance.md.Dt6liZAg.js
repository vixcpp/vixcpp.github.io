import{_ as s,o as a,c as e,a as n}from"./app.CtA6R87L.js";import"./chunks/markjs.l6TISjdC.js";import"./chunks/minisearch.DigTKvvb.js";const g=JSON.parse('{"title":"Performance","description":"","frontmatter":{},"headers":[],"relativePath":"fundamentals/performance.md","filePath":"fundamentals/performance.md","lastUpdated":1770798288000}'),l={name:"fundamentals/performance.md"};function t(p,i,h,r,o,k){return a(),e("div",null,[...i[0]||(i[0]=[n(`<h1 id="performance" tabindex="-1">Performance <a class="header-anchor" href="#performance" aria-label="Permalink to &quot;Performance&quot;">​</a></h1><p>Vix is designed for predictable, high-performance networking.</p><p>Performance in Vix comes from:</p><ul><li>Explicit control</li><li>Minimal abstraction layers</li><li>No garbage collection</li><li>No hidden middleware chains</li></ul><hr><h2 id="minimal-overhead-model" tabindex="-1">Minimal overhead model <a class="header-anchor" href="#minimal-overhead-model" aria-label="Permalink to &quot;Minimal overhead model&quot;">​</a></h2><p>A typical Vix request flow is:</p><p>Request → Route match → Handler → Response → End</p><p>There are no:</p><ul><li>Reflection systems</li><li>Dynamic runtime inspection layers</li><li>Hidden serialization pipelines</li></ul><p>Everything you write is what executes.</p><hr><h2 id="minimal-example" tabindex="-1">Minimal example <a class="header-anchor" href="#minimal-example" aria-label="Permalink to &quot;Minimal example&quot;">​</a></h2><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">#include</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &lt;vix.hpp&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">using</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> namespace</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> vix</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">int</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  App app;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  app.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">get</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, [](</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Request</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Response</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&amp;</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> res</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    res.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">json</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;message&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Fast and explicit&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  });</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  app.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">run</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">8080</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>The handler is a simple lambda. No extra runtime layers are involved.</p><hr><h2 id="avoiding-performance-pitfalls" tabindex="-1">Avoiding performance pitfalls <a class="header-anchor" href="#avoiding-performance-pitfalls" aria-label="Permalink to &quot;Avoiding performance pitfalls&quot;">​</a></h2><h3 id="_1-avoid-heavy-allocations-in-hot-paths" tabindex="-1">1. Avoid heavy allocations in hot paths <a class="header-anchor" href="#_1-avoid-heavy-allocations-in-hot-paths" aria-label="Permalink to &quot;1. Avoid heavy allocations in hot paths&quot;">​</a></h3><p>Instead of:</p><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">std</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">::string large </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> some_expensive_operation</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">res.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">json</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;data&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, large});</span></span></code></pre></div><p>Prefer precomputed or cached data when possible.</p><hr><h3 id="_2-keep-handlers-small" tabindex="-1">2. Keep handlers small <a class="header-anchor" href="#_2-keep-handlers-small" aria-label="Permalink to &quot;2. Keep handlers small&quot;">​</a></h3><p>Handlers should:</p><ul><li>Parse input</li><li>Perform minimal logic</li><li>Send response</li></ul><p>Move heavy logic into dedicated components.</p><hr><h3 id="_3-avoid-unnecessary-json-depth" tabindex="-1">3. Avoid unnecessary JSON depth <a class="header-anchor" href="#_3-avoid-unnecessary-json-depth" aria-label="Permalink to &quot;3. Avoid unnecessary JSON depth&quot;">​</a></h3><p>Deeply nested objects increase serialization cost.</p><p>Prefer structured but reasonable JSON layouts.</p><hr><h2 id="hardware-considerations" tabindex="-1">Hardware considerations <a class="header-anchor" href="#hardware-considerations" aria-label="Permalink to &quot;Hardware considerations&quot;">​</a></h2><p>For production workloads:</p><ul><li>Use multi-core CPUs</li><li>Use fast storage (NVMe preferred)</li><li>Avoid memory pressure</li><li>Use proper OS tuning</li></ul><p>Vix itself does not impose artificial limits. Hardware and architecture choices matter.</p><hr><h2 id="throughput-mindset" tabindex="-1">Throughput mindset <a class="header-anchor" href="#throughput-mindset" aria-label="Permalink to &quot;Throughput mindset&quot;">​</a></h2><p>To maximize throughput:</p><ul><li>Minimize blocking operations</li><li>Avoid unnecessary copying</li><li>Reuse resources when possible</li><li>Keep I/O efficient</li></ul><p>Example of lightweight route:</p><div class="language-cpp vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">cpp</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">app.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">get</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/ping&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, [](</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Request</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Response</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&amp;</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;"> res</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  res.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">json</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;message&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;pong&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre></div><p>This route has near-zero overhead.</p><hr><h2 id="benchmarking-rule" tabindex="-1">Benchmarking rule <a class="header-anchor" href="#benchmarking-rule" aria-label="Permalink to &quot;Benchmarking rule&quot;">​</a></h2><p>Always benchmark your real workload.</p><p>Synthetic benchmarks may not reflect:</p><ul><li>Real traffic patterns</li><li>Database latency</li><li>External API delays</li></ul><p>Measure what matters.</p><hr><h2 id="philosophy" tabindex="-1">Philosophy <a class="header-anchor" href="#philosophy" aria-label="Permalink to &quot;Philosophy&quot;">​</a></h2><p>Performance in Vix is not magic.</p><p>It comes from:</p><ul><li>Simplicity</li><li>Explicit behavior</li><li>Predictable execution</li><li>Modern C++ efficiency</li></ul><p>If you write efficient C++, Vix stays efficient.</p>`,54)])])}const u=s(l,[["render",t]]);export{g as __pageData,u as default};
